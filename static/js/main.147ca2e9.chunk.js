(this.webpackJsonpColorMaps=this.webpackJsonpColorMaps||[]).push([[0],{120:function(t,o,e){},121:function(t,o,e){},123:function(t,o,e){},124:function(t,o,e){},125:function(t,o,e){},132:function(t,o,e){},136:function(t,o,e){},137:function(t,o,e){},265:function(t,o,e){},267:function(t,o,e){},268:function(t,o,e){"use strict";e.r(o);var n=e(3),a=e(0),r=e.n(a),s=e(8),i=e.n(s),c=(e(120),e.p,e(121),e(122),e(30)),h=e(7),l=e(10),d=e(11),u=e(14),p=e(13),j=e(12),C=(e(123),e(21)),b=(e(124),e(125),e(71)),v=function(t){Object(p.a)(e,t);var o=Object(j.a)(e);function e(t){var n;return Object(l.a)(this,e),(n=o.call(this,t)).state={},n.addAnchorPoint=n.addAnchorPoint.bind(Object(u.a)(n)),n}return Object(d.a)(e,[{key:"addAnchorPoint",value:function(t){var o=t.target.getBoundingClientRect(),e=o.right-o.left,n=(t.clientX-o.left)/e;n=Math.min(Math.max(n,0),1),n=Math.round(1e3*n)/1e3,this.props.addAnchorPoint(100*n)}},{key:"render",value:function(){var t=this,o="linear-gradient(90deg,"+this.props.anchorColors.map((function(o,e){return" #"+b.apply(void 0,Object(C.a)(o))+" "+t.props.anchorPoints[e]+"%"})).join(",")+")";return Object(n.jsx)("div",{className:"ColorMapDisplayDiv",style:{background:o},onClick:this.addAnchorPoint})}}]),e}(a.Component),O=e(65),P=(e(132),e(114)),g=(e(135),function(t){Object(p.a)(e,t);var o=Object(j.a)(e);function e(t){return Object(l.a)(this,e),o.call(this,t)}return Object(d.a)(e,[{key:"render",value:function(){var t;return Object(n.jsx)("div",{className:"ColorMapSliderDiv",children:Object(n.jsx)(P.a,(t={count:this.props.anchorPoints.length-1,allowCross:!1,step:.1,value:this.props.anchorPoints,handleStyle:[{backgroundColor:"#fff000"},{backgroundColor:"#ff00ff"}]},Object(O.a)(t,"handleStyle",this.props.anchorColors.map((function(t){return{backgroundColor:"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")")}}))),Object(O.a)(t,"onChange",this.props.onSliderChange),t),this.props.recentUpdateTime)})}}]),e}(a.Component)),f=(e(136),e(137),function(t){Object(p.a)(e,t);var o=Object(j.a)(e);function e(){return Object(l.a)(this,e),o.apply(this,arguments)}return Object(d.a)(e,[{key:"render",value:function(){var t=this;return Object(n.jsx)("div",{className:"ColorMapAnchorListDiv",children:this.props.anchorPoints.map((function(o,e){return function(t,o,e,a,r){return Object(n.jsxs)("div",{className:"ColorMapAnchorListItem",children:[Object(n.jsxs)("div",{className:"ColorMapAnchorListName disable-select",onClick:function(){a(o)},children:[Object(n.jsx)("div",{className:"ColorMapAnchorListColor",style:{backgroundColor:"rgba("+e.join(", ")+")"}}),t]}),Object(n.jsx)("div",{className:"ColorMapAnchorListRemoveButtonDiv disable-select",onClick:function(){r(o)},children:"\u2715"})]},o)}(o,e,t.props.anchorColors[e],t.props.selectHandler,t.props.removeHandler)}))})}}]),e}(a.Component)),m=e(113),x=e(71),A=function(t){Object(p.a)(e,t);var o=Object(j.a)(e);function e(t){return Object(l.a)(this,e),o.call(this,t)}return Object(d.a)(e,[{key:"render",value:function(){var t=this.props.anchorColors[this.props.focusedIdx];return Object(n.jsx)("div",{className:"ColorMapColorPickerOuterDiv",children:Object(n.jsxs)("div",{className:"ColorMapColorPickerDiv",children:[Object(n.jsx)(m.a,{color:x.apply(void 0,Object(C.a)(t)),onChangeComplete:this.props.onColorChange,disableAlpha:true,width:500}),Object(n.jsx)(f,{anchorPoints:this.props.anchorPoints,anchorColors:this.props.anchorColors,selectHandler:this.props.selectHandler,removeHandler:this.props.removeHandler})]})})}}]),e}(a.Component),k=[213,51,105],N=[218,174,81],y=function(t){Object(p.a)(e,t);var o=Object(j.a)(e);function e(t){var n;return Object(l.a)(this,e),(n=o.call(this,t)).state={anchorPoints:[0,100],anchorColors:[k,N],recentUpdateTime:Date.now(),currentFocusedPoint:0,viewMode:!1},n.addAnchorPoint=n.addAnchorPoint.bind(Object(u.a)(n)),n.onSliderChange=n.onSliderChange.bind(Object(u.a)(n)),n.onFocusedPointChange=n.onFocusedPointChange.bind(Object(u.a)(n)),n.onColorChange=n.onColorChange.bind(Object(u.a)(n)),n.onRemoveAnchorPoint=n.onRemoveAnchorPoint.bind(Object(u.a)(n)),n}return Object(d.a)(e,[{key:"componentDidMount",value:function(){"anchorPoints"in this.props&&this.setState({anchorColors:this.props.anchorColors,anchorPoints:this.props.anchorPoints,viewMode:!0})}},{key:"addAnchorPoint",value:function(t){t=Math.round(10*t)/10;for(var o,e=[-1].concat(Object(C.a)(this.state.anchorPoints),[101]),n=[this.state.anchorColors[0]].concat(Object(C.a)(this.state.anchorColors),[this.state.anchorColors[this.state.anchorColors.length-1]]),a=0,r=0;r<e.length-1;r++)if(a=r,t>=e[r]&&t<=e[r+1]){o=[Math.round((n[r][0]+n[r+1][0])/2),Math.round((n[r][1]+n[r+1][1])/2),Math.round((n[r][2]+n[r+1][2])/2)];break}var s=Object(C.a)(this.state.anchorPoints);s.splice(a,0,t);var i=Object(C.a)(this.state.anchorColors);i.splice(a,0,o),this.setState({anchorPoints:s,anchorColors:i,currentFocusedPoint:a}),this.state.viewMode&&this.props.onAnchorPointDidChange(s,i)}},{key:"onSliderChange",value:function(t){this.setState({anchorPoints:t}),this.state.viewMode&&this.props.onAnchorPointDidChange(t,this.state.anchorColors)}},{key:"onFocusedPointChange",value:function(t){this.setState({currentFocusedPoint:t})}},{key:"onRemoveAnchorPoint",value:function(t){if(!(this.state.anchorPoints.length<=2)){var o=this.state.currentFocusedPoint;t<=this.state.currentFocusedPoint&&0!==this.state.currentFocusedPoint&&(o-=1);var e=Object(C.a)(this.state.anchorPoints),n=JSON.parse(JSON.stringify(this.state.anchorColors));e.splice(t,1),n.splice(t,1),this.setState({anchorPoints:e,anchorColors:n,currentFocusedPoint:o}),this.state.viewMode&&this.props.onAnchorPointDidChange(e,n)}}},{key:"onColorChange",value:function(t){var o=t.rgb,e=JSON.parse(JSON.stringify(this.state.anchorColors));e[this.state.currentFocusedPoint][0]=o.r,e[this.state.currentFocusedPoint][1]=o.g,e[this.state.currentFocusedPoint][2]=o.b,this.setState({anchorColors:e}),this.state.viewMode&&this.props.onAnchorPointDidChange(this.state.anchorPoints,e)}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"ColorMapEditorDiv",children:[Object(n.jsx)(v,{addAnchorPoint:this.addAnchorPoint,anchorPoints:this.state.anchorPoints,anchorColors:this.state.anchorColors}),Object(n.jsx)(g,{anchorPoints:this.state.anchorPoints,anchorColors:this.state.anchorColors,recentUpdateTime:this.state.recentUpdateTime,onSliderChange:this.onSliderChange}),Object(n.jsx)(A,{anchorPoints:this.state.anchorPoints,anchorColors:this.state.anchorColors,focusedIdx:this.state.currentFocusedPoint,selectHandler:this.onFocusedPointChange,removeHandler:this.onRemoveAnchorPoint,onColorChange:this.onColorChange})]})}}]),e}(a.Component),M=e(44),D=e(111),S=e(68),w=e.n(S),B=(e(263),"https://cs519.herokuapp.com/colormap/"),F=e(23),T=function(t){Object(p.a)(e,t);var o=Object(j.a)(e);function e(t){var n;return Object(l.a)(this,e),(n=o.call(this,t)).state={colorMapName:"",anchorPoints:[0,100],anchorColors:[[0,0,0],[255,255,255]],waitingOnAPI:!1},n.onAnchorPointDidChange=n.onAnchorPointDidChange.bind(Object(u.a)(n)),n.onTextAreaChange=n.onTextAreaChange.bind(Object(u.a)(n)),n.onCreateButtonClick=n.onCreateButtonClick.bind(Object(u.a)(n)),n}return Object(d.a)(e,[{key:"onAnchorPointDidChange",value:function(t,o){this.setState({anchorPoints:t,anchorColors:o})}},{key:"onTextAreaChange",value:function(t){var o=t.target.value;this.setState({colorMapName:o})}},{key:"onCreateButtonClick",value:function(){var t=this,o=this.state.colorMapName;new RegExp("^[a-zA-Z0-9_]+$").test(o)?(this.setState({waitingOnAPI:!0}),function(t,o,e){for(var n=[],a=0;a<o.length;a++){var r={red:e[a][0],green:e[a][1],blue:e[a][2],anchor:Math.round(10*o[a])/1e3};n.push(r)}var s={name:t,anchors:n};return w.a.post(B,s,{headers:{"Content-Type":"application/json"}})}(o,this.state.anchorPoints,this.state.anchorColors).then((function(e){t.props.history.push({pathname:"/view/"+o,justCreated:!0})})).catch((function(o){var e;t.setState({waitingOnAPI:!1}),e=void 0!==o.response?o.response.data:"Network Error",F.b.error(e,{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))):F.b.warn("Only alphanumberic and underscores allowed",{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},{key:"componentWillMount",value:function(){"initAnchorPoints"in this.props.location&&this.setState({anchorPoints:this.props.location.initAnchorPoints,anchorColors:this.props.location.initAnchorColors})}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"HomePageDiv",children:[Object(n.jsx)(F.a,{style:{fontSize:"14px"}}),Object(n.jsxs)("div",{className:"ViewPageToolBarDiv",children:[Object(n.jsx)("div",{className:"HomePageToolBarTextAreaDiv",children:Object(n.jsx)("textarea",{className:"HomePageTextArea",rows:1,maxlength:"40",placeholder:"ColorMap Name",onChange:this.onTextAreaChange})}),Object(n.jsx)("div",{className:"ViewPageToolBarForkButtonDiv",children:this.state.waitingOnAPI?Object(n.jsx)("div",{className:"ViewPageToolBarSpinnerDiv",children:Object(n.jsx)(D.a,{animation:"border",variant:"success"})}):Object(n.jsx)(M.a,{variant:"outline-success",disabled:""===this.state.colorMapName,onClick:this.onCreateButtonClick,children:"Create"})})]}),Object(n.jsx)(y,{anchorPoints:this.state.anchorPoints,anchorColors:this.state.anchorColors,onAnchorPointDidChange:this.onAnchorPointDidChange})]})}}]),e}(a.Component),H=(e(265),e(105),function(t){Object(p.a)(e,t);var o=Object(j.a)(e);function e(t){var n;return Object(l.a)(this,e),(n=o.call(this,t)).state={loaded:!1,edited:!1,colorMapName:"",anchorPoints:[0,100],anchorColors:[[0,0,0],[255,255,255]]},n.onAnchorPointDidChange=n.onAnchorPointDidChange.bind(Object(u.a)(n)),n}return Object(d.a)(e,[{key:"componentDidMount",value:function(){var t,o=this,e=this.props.location.pathname.split("/")[2];(t=e,w.a.get(B+t)).then((function(t){for(var n=t.data.anchors,a=[],r=[],s=0;s<n.length;s++){var i=n[s];a.push(100*i.anchor),r.push([i.red,i.green,i.blue])}o.setState({loaded:!0,colorMapName:e,anchorPoints:a,anchorColors:r},(function(){"justCreated"in o.props.location&&F.b.success("\ud83c\udf89 ColorMap Created!",{position:"top-right",autoClose:2500,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))})).catch((function(t){console.log("error",t),o.props.history.push("/")}))}},{key:"onAnchorPointDidChange",value:function(t,o){this.setState({anchorPoints:t,anchorColors:o,edited:!0})}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(F.a,{style:{fontSize:"20px"}}),this.state.loaded?Object(n.jsxs)("div",{className:"ViewPageDiv",children:[Object(n.jsx)(F.a,{style:{fontSize:"20px"}}),Object(n.jsxs)("div",{className:"ViewPageToolBarDiv",children:[Object(n.jsx)("div",{className:"ViewPageToolBarNameDiv",children:this.state.colorMapName}),Object(n.jsx)("div",{className:"ViewPageToolBarForkButtonDiv",children:Object(n.jsx)(c.b,{to:{pathname:"/",initAnchorPoints:this.state.anchorPoints,initAnchorColors:this.state.anchorColors},children:Object(n.jsx)(M.a,{variant:"outline-primary",disabled:!this.state.edited,children:"Fork"})})})]}),Object(n.jsx)(y,{anchorPoints:this.state.anchorPoints,anchorColors:this.state.anchorColors,onAnchorPointDidChange:this.onAnchorPointDidChange})]}):null]})}}]),e}(a.Component)),I=(e(267),function(t){Object(p.a)(e,t);var o=Object(j.a)(e);function e(){return Object(l.a)(this,e),o.apply(this,arguments)}return Object(d.a)(e,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"NavBarDiv",children:Object(n.jsx)("div",{className:"NavBarTitleDiv disable-select",children:"ColorMaps.Dev"})})}}]),e}(a.Component));var L=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("header",{className:"App-header",children:Object(n.jsxs)("div",{className:"App-header-inner",children:[Object(n.jsx)(I,{}),Object(n.jsx)(c.a,{children:Object(n.jsxs)(h.c,{children:[Object(n.jsx)(h.a,{path:"/view",component:H}),Object(n.jsx)(h.a,{path:"/",component:T})]})})]})})})},R=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,272)).then((function(o){var e=o.getCLS,n=o.getFID,a=o.getFCP,r=o.getLCP,s=o.getTTFB;e(t),n(t),a(t),r(t),s(t)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),R()}},[[268,1,2]]]);
//# sourceMappingURL=main.147ca2e9.chunk.js.map